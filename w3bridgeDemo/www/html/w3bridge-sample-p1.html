<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <title>Step1</title>
    
    <style type="text/css">
    	body {padding:0;margin:0;width:100%;height:100%;}
    	ul {list-style:none;padding:0;margin:0;}
    	ul li {margin-left:20px;}
    	.menu {width:320px;display:none;position:absolute;background-color:#ccc;padding:0;margin:0;}
    	.menu li {height:30px;padding:10px;border:solid 1px #fff;}
    </style>

	<script type="text/javascript" src="../frontends/gbridge/gbridge-1.1.0.min.js?ver=201301221626"></script>
	<script type="text/javascript" src="../frontends/jquery-1.7.2.min.js"></script>
	<script type="text/javascript">
		function onBodyLoad(){
			document.addEventListener("deviceready", onDeviceReady, false);
	    }

	    function onDeviceReady(){
	    	navigator.bridge.view.showRightBarButton(1, null, "rightBarButtonClickCallBack");
	    	navigator.bridge.notification.addObserver("didClickLeftBarButtonItem", "didClickLeftBarButtonItem");
	    }
		
		function rightBarButtonClickCallBack(){
			$(".menu").show();
		}
		
		function hide(){
			$(".menu").hide();
		}
		
		function closeView(){
	    	navigator.bridge.view.close();
		}
		
		function nextStep(){
	    	navigator.bridge.view.open("http://mui.spazon.com/resources/scripts/test/gbridgeTestStep2.html", "push");
		}
		
		function postNotification(){
	    	navigator.bridge.notification.postNotification("select", {});
		}
		
		function didClickLeftBarButtonItem(){
			console.log("didClickLeftBarButtonItem");
			if(confirm('이전으로 이동할까?')){
				closeView();
			}
		}
	</script>
</head>

<body onload="onBodyLoad();">
<div>
	<ul class="menu">
		<li>menu1</li>
		<li>menu2</li>
		<li>menu3</li>
		<li>menu4</li>
		<li>menu5</li>
		<li onclick="hide();">close</li>
	</ul>
	
	<ul>
		<li><button onclick="nextStep();" style="width:120px;height:30px;margin-top:30px;">nextStep</button></li>
		<li><button onclick="closeView();" style="width:120px;height:30px;margin-top:30px;">close</button></li>
		<li><button onclick="postNotification();" style="width:120px;height:30px;margin-top:30px;">select</button></li>
	</ul>
</div>
</body>
</html>